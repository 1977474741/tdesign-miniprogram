<wxs src="../common/utils.wxs" module="utils" />

<view class="{{ visible ? 't-show' :'t-hidden' }}" wx:if="{{ visible }}">

  <view
    wx:if="{{ preventScrollThrough }}"
    catchtouchmove="catchtouchmove"
    class="{{ showOverlay ? 't-mask' : 't-mask--transparent' }}"
    bindtap="clickOverlay"></view>
  <view
    wx:else
    class="{{ showOverlay ? 't-mask' : 't-mask--transparent' }}"
    bindtap="clickOverlay"></view>

  <view
    class="t-dialog {{ className }}"
    style="z-index:{{zIndex}};{{ utils.addUnit('width', width) }}{{ customStyle }}">
    <view wx:if="{{ header }}" class="t-dialog__header">
      <view class="t-dialog__title">{{ header }}</view>
    </view>
    <slot wx:else name="header"></slot>

    <view class="t-dialog__body">
      <block wx:if="{{ body }}">{{ body }}</block>
      <slot wx:else name="body"></slot>
    </view>

    <view class="t-dialog__footer">
      <block wx:if="{{ footer }}">
        <view
          wx:if="{{ showCancel }}"
          class="t-dialog__btn t-dialog__btn--default"
          hover-class="t-dialog__btn--active"
          bindtap="clickCloseBtn">{{ cancelContent }}</view>
        <view
          class="t-dialog__btn t-dialog__btn--{{ theme }}"
          hover-class="t-dialog__btn--active"
          bindtap="clickConfirmBtn">{{ confirmContent }}</view>
      </block>
      <slot wx:else name="footer"></slot>
    </view>
  </view>

</view>
