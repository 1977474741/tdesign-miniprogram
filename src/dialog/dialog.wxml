<wxs src="../common/utils.wxs" module="utils" />

<view
  class="{{ visible ? classBasePrefix + '-show' :classBasePrefix + '-hidden' }}"
  wx:if="{{ visible }}"
>
  <view
    wx:if="{{ preventScrollThrough }}"
    catchtouchmove="catchtouchmove"
    class="{{ showOverlay ? classBasePrefix + '-mask' : classBasePrefix + '-mask--transparent' }}"
    bindtap="clickOverlay"
  ></view>
  <view
    wx:else
    class="{{ showOverlay ? classBasePrefix + '-mask' : classBasePrefix + '-mask--transparent' }}"
    bindtap="clickOverlay"
  ></view>

  <view
    class="{{ classPrefix }} {{ className }}"
    style="z-index:{{zIndex}};{{ utils.addUnit('width', width) }}{{ customStyle }}"
  >
    <view wx:if="{{ header }}" class="{{ classPrefix }}__header">
      <view class="{{ classPrefix }}__title">{{ header }}</view>
    </view>
    <slot wx:else name="header"></slot>

    <view class="{{ classPrefix }}__body">
      <block wx:if="{{ body }}">{{ body }}</block>
      <slot wx:else name="body"></slot>
    </view>

    <view class="{{ classPrefix }}__footer">
      <block wx:if="{{ footer }}">
        <view
          wx:if="{{ cancelContent }}"
          class="{{ classPrefix }}__btn {{ classPrefix }}__btn--default"
          hover-class="{{ classPrefix }}__btn--active"
          bindtap="clickCloseBtn"
          >{{ cancelContent }}</view
        >
        <view
          wx:if="{{ confirmContent }}"
          class="{{ classPrefix }}__btn {{ classPrefix }}__btn--{{ theme }}"
          hover-class="{{ classPrefix }}__btn--active"
          bindtap="clickConfirmBtn"
          >{{ confirmContent }}</view
        >
      </block>
      <slot wx:else name="footer"></slot>
    </view>
  </view>
</view>
