<!-- 加载中占位 -->
<view wx:if="{{isLoading}}" class="t-class t-image t-image__mask t-image--loading">
  <t-loading wx:if="{{loading === 'default'}}" theme="dots" size="40rpx" loading></t-loading>
  <view wx:elif="{{loading !== 'slot' && loading !== ''}}" class="t-image-common">
    {{loading}}
  </view>
  <slot wx:else name="loading" />
</view>
<!-- 加载失败占位 -->
<view wx:elif="{{isFailed}}" class="t-class t-image t-image__mask t-image--faild">
  <!-- 等icon组件出了再改变加载失败默认提示 -->
  <view wx:if="{{loadFailed === 'default'}}" style="font-size: 20rpx; color: #999"
    >默认失败提示</view
  >
  <view wx:elif="{{loadFailed !== 'slot' && loadFailed !== ''}}" class="t-image-common">
    {{loadFailed}}
  </view>
  <slot wx:else name="loadFailed"></slot>
</view>
<!-- 图片 -->
<image
  id="image"
  hidden="{{isLoading || isFailed}}"
  class="t-class t-image"
  src="{{src}}"
  style="{{widthStyle}}"
  mode="{{mode}}"
  webp="{{webp}}"
  lazy-load="{{lazyLoad}}"
  bindload="onLoaded"
  binderror="onLoadError"
  show-menu-by-longpress="{{showMenuByLongpress}}"
/>
