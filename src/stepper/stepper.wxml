<wxs src="../common/utils.wxs" module="utils" />
<t-cell
  wx:if="{{!pureMode}}"
  class="{{ classPrefix }} {{ disabled ? 't-is-disabled': ''}} classname"
>
  <view slot="title" class="{{ classPrefix }}__label">{{ label }}</view>
  <view
    class="{{ classPrefix }}__minus {{ disabled || disableMinus || currentValue <= min ? 't-is-disabled': ''}}"
    bindtap="minusValue"
  >
    <t-icon
      class-prefix="{{ iconPrefix }}"
      name="{{ minusIcon }}"
      color="{{ disabled || disableMinus || currentValue <= min ? '#ccc': '#444'}}"
      size="20px"
      t-class="stepper__minus__icon"
    />
  </view>

  <input
    class="{{ classPrefix }}__input"
    style="width:{{ utils.addUnit(inputWidth) }};"
    disabled="{{ disabled || disableInput }}"
    type="number"
    value="{{ currentValue }}"
    bindblur="blurHandler"
  />
  <view
    class="{{ classPrefix }}__plus {{ disabled || disablePlus|| currentValue >= max ? 't-is-disabled': ''}}"
    bindtap="plusValue"
  >
    <t-icon
      class-prefix="{{ iconPrefix }}"
      name="{{ plusIcon }}"
      color="{{ disabled || disablePlus|| currentValue >= max ? '#ccc': '#444'}}"
      size="20px"
      t-class="stepper__minus__icon"
    />
  </view>
</t-cell>

<view wx:else class="{{ classPrefix }}-pure {{ disabled ? 't-is-disabled': ''}} classname">
  <view
    class="{{ classPrefix }}__minus {{ disabled || disableMinus || currentValue <= min ? 't-is-disabled': ''}}"
    bindtap="minusValue"
  >
    <t-icon
      class-prefix="{{ iconPrefix }}"
      name="{{ minusIcon }}"
      color="{{ disabled || disableMinus || currentValue <= min ? '#ccc': '#444'}}"
      size="16px"
      t-class="stepper__minus__icon"
    />
  </view>

  <input
    class="{{ classPrefix }}__input"
    style="{{ utils.addUnit('width',inputWidth) }}"
    disabled="{{ disabled || disableInput }}"
    type="number"
    value="{{ currentValue }}"
    bindblur="blurHandler"
  />
  <view
    class="{{ classPrefix }}__plus {{ disabled || disablePlus|| currentValue >= max ? 't-is-disabled': ''}}"
    bindtap="plusValue"
  >
    <t-icon
      class-prefix="{{ iconPrefix }}"
      name="{{ plusIcon }}"
      color="{{ disabled || disablePlus|| currentValue >= max ? '#ccc': '#444'}}"
      size="16px"
      t-class="stepper__minus__icon"
    />
  </view>
</view>
